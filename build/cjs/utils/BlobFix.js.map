{"version":3,"file":"BlobFix.js","sourceRoot":"","sources":["../../../src/utils/BlobFix.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * There is a bug where `navigator.mediaDevices.getUserMedia` + `MediaRecorder`\n * creates WEBM files without duration metadata. See:\n * - https://bugs.chromium.org/p/chromium/issues/detail?id=642012\n * - https://stackoverflow.com/a/39971175/13989043\n *\n * This file contains a function that fixes the duration metadata of a WEBM file.\n *  - Answer found: https://stackoverflow.com/a/75218309/13989043\n *  - Code adapted from: https://github.com/mat-sz/webm-fix-duration\n *    (forked from https://github.com/yusitnikov/fix-webm-duration)\n */\n\n/*\n * This is the list of possible WEBM file sections by their IDs.\n * Possible types: Container, Binary, Uint, Int, String, Float, Date\n */\ninterface Section {\n    name: string\n    type: string\n}\n\nconst sections: Record<number, Section> = {\n    0xa45dfa3: { name: 'EBML', type: 'Container' },\n    0x286: { name: 'EBMLVersion', type: 'Uint' },\n    0x2f7: { name: 'EBMLReadVersion', type: 'Uint' },\n    0x2f2: { name: 'EBMLMaxIDLength', type: 'Uint' },\n    0x2f3: { name: 'EBMLMaxSizeLength', type: 'Uint' },\n    0x282: { name: 'DocType', type: 'String' },\n    0x287: { name: 'DocTypeVersion', type: 'Uint' },\n    0x285: { name: 'DocTypeReadVersion', type: 'Uint' },\n    0x6c: { name: 'Void', type: 'Binary' },\n    0x3f: { name: 'CRC-32', type: 'Binary' },\n    0xb538667: { name: 'SignatureSlot', type: 'Container' },\n    0x3e8a: { name: 'SignatureAlgo', type: 'Uint' },\n    0x3e9a: { name: 'SignatureHash', type: 'Uint' },\n    0x3ea5: { name: 'SignaturePublicKey', type: 'Binary' },\n    0x3eb5: { name: 'Signature', type: 'Binary' },\n    0x3e5b: { name: 'SignatureElements', type: 'Container' },\n    0x3e7b: { name: 'SignatureElementList', type: 'Container' },\n    0x2532: { name: 'SignedElement', type: 'Binary' },\n    0x8538067: { name: 'Segment', type: 'Container' },\n    0x14d9b74: { name: 'SeekHead', type: 'Container' },\n    0xdbb: { name: 'Seek', type: 'Container' },\n    0x13ab: { name: 'SeekID', type: 'Binary' },\n    0x13ac: { name: 'SeekPosition', type: 'Uint' },\n    0x549a966: { name: 'Info', type: 'Container' },\n    0x33a4: { name: 'SegmentUID', type: 'Binary' },\n    0x3384: { name: 'SegmentFilename', type: 'String' },\n    0x1cb923: { name: 'PrevUID', type: 'Binary' },\n    0x1c83ab: { name: 'PrevFilename', type: 'String' },\n    0x1eb923: { name: 'NextUID', type: 'Binary' },\n    0x1e83bb: { name: 'NextFilename', type: 'String' },\n    0x444: { name: 'SegmentFamily', type: 'Binary' },\n    0x2924: { name: 'ChapterTranslate', type: 'Container' },\n    0x29fc: { name: 'ChapterTranslateEditionUID', type: 'Uint' },\n    0x29bf: { name: 'ChapterTranslateCodec', type: 'Uint' },\n    0x29a5: { name: 'ChapterTranslateID', type: 'Binary' },\n    0xad7b1: { name: 'TimecodeScale', type: 'Uint' },\n    0x489: { name: 'Duration', type: 'Float' },\n    0x461: { name: 'DateUTC', type: 'Date' },\n    0x3ba9: { name: 'Title', type: 'String' },\n    0xd80: { name: 'MuxingApp', type: 'String' },\n    0x1741: { name: 'WritingApp', type: 'String' },\n    // 0xf43b675: { name: 'Cluster', type: 'Container' },\n    0x67: { name: 'Timecode', type: 'Uint' },\n    0x1854: { name: 'SilentTracks', type: 'Container' },\n    0x18d7: { name: 'SilentTrackNumber', type: 'Uint' },\n    0x27: { name: 'Position', type: 'Uint' },\n    0x2b: { name: 'PrevSize', type: 'Uint' },\n    0x23: { name: 'SimpleBlock', type: 'Binary' },\n    0x20: { name: 'BlockGroup', type: 'Container' },\n    0x21: { name: 'Block', type: 'Binary' },\n    0x22: { name: 'BlockVirtual', type: 'Binary' },\n    0x35a1: { name: 'BlockAdditions', type: 'Container' },\n    0x26: { name: 'BlockMore', type: 'Container' },\n    0x6e: { name: 'BlockAddID', type: 'Uint' },\n    0x25: { name: 'BlockAdditional', type: 'Binary' },\n    0x1b: { name: 'BlockDuration', type: 'Uint' },\n    0x7a: { name: 'ReferencePriority', type: 'Uint' },\n    0x7b: { name: 'ReferenceBlock', type: 'Int' },\n    0x7d: { name: 'ReferenceVirtual', type: 'Int' },\n    0x24: { name: 'CodecState', type: 'Binary' },\n    0x35a2: { name: 'DiscardPadding', type: 'Int' },\n    0xe: { name: 'Slices', type: 'Container' },\n    0x68: { name: 'TimeSlice', type: 'Container' },\n    0x4c: { name: 'LaceNumber', type: 'Uint' },\n    0x4d: { name: 'FrameNumber', type: 'Uint' },\n    0x4b: { name: 'BlockAdditionID', type: 'Uint' },\n    0x4e: { name: 'Delay', type: 'Uint' },\n    0x4f: { name: 'SliceDuration', type: 'Uint' },\n    0x48: { name: 'ReferenceFrame', type: 'Container' },\n    0x49: { name: 'ReferenceOffset', type: 'Uint' },\n    0x4a: { name: 'ReferenceTimeCode', type: 'Uint' },\n    0x2f: { name: 'EncryptedBlock', type: 'Binary' },\n    0x654ae6b: { name: 'Tracks', type: 'Container' },\n    0x2e: { name: 'TrackEntry', type: 'Container' },\n    0x57: { name: 'TrackNumber', type: 'Uint' },\n    0x33c5: { name: 'TrackUID', type: 'Uint' },\n    0x3: { name: 'TrackType', type: 'Uint' },\n    0x39: { name: 'FlagEnabled', type: 'Uint' },\n    0x8: { name: 'FlagDefault', type: 'Uint' },\n    0x15aa: { name: 'FlagForced', type: 'Uint' },\n    0x1c: { name: 'FlagLacing', type: 'Uint' },\n    0x2de7: { name: 'MinCache', type: 'Uint' },\n    0x2df8: { name: 'MaxCache', type: 'Uint' },\n    0x3e383: { name: 'DefaultDuration', type: 'Uint' },\n    0x34e7a: { name: 'DefaultDecodedFieldDuration', type: 'Uint' },\n    0x3314f: { name: 'TrackTimecodeScale', type: 'Float' },\n    0x137f: { name: 'TrackOffset', type: 'Int' },\n    0x15ee: { name: 'MaxBlockAdditionID', type: 'Uint' },\n    0x136e: { name: 'Name', type: 'String' },\n    0x2b59c: { name: 'Language', type: 'String' },\n    0x6: { name: 'CodecID', type: 'String' },\n    0x23a2: { name: 'CodecPrivate', type: 'Binary' },\n    0x58688: { name: 'CodecName', type: 'String' },\n    0x3446: { name: 'AttachmentLink', type: 'Uint' },\n    0x1a9697: { name: 'CodecSettings', type: 'String' },\n    0x1b4040: { name: 'CodecInfoURL', type: 'String' },\n    0x6b240: { name: 'CodecDownloadURL', type: 'String' },\n    0x2a: { name: 'CodecDecodeAll', type: 'Uint' },\n    0x2fab: { name: 'TrackOverlay', type: 'Uint' },\n    0x16aa: { name: 'CodecDelay', type: 'Uint' },\n    0x16bb: { name: 'SeekPreRoll', type: 'Uint' },\n    0x2624: { name: 'TrackTranslate', type: 'Container' },\n    0x26fc: { name: 'TrackTranslateEditionUID', type: 'Uint' },\n    0x26bf: { name: 'TrackTranslateCodec', type: 'Uint' },\n    0x26a5: { name: 'TrackTranslateTrackID', type: 'Binary' },\n    0x60: { name: 'Video', type: 'Container' },\n    0x1a: { name: 'FlagInterlaced', type: 'Uint' },\n    0x13b8: { name: 'StereoMode', type: 'Uint' },\n    0x13c0: { name: 'AlphaMode', type: 'Uint' },\n    0x13b9: { name: 'OldStereoMode', type: 'Uint' },\n    0x30: { name: 'PixelWidth', type: 'Uint' },\n    0x3a: { name: 'PixelHeight', type: 'Uint' },\n    0x14aa: { name: 'PixelCropBottom', type: 'Uint' },\n    0x14bb: { name: 'PixelCropTop', type: 'Uint' },\n    0x14cc: { name: 'PixelCropLeft', type: 'Uint' },\n    0x14dd: { name: 'PixelCropRight', type: 'Uint' },\n    0x14b0: { name: 'DisplayWidth', type: 'Uint' },\n    0x14ba: { name: 'DisplayHeight', type: 'Uint' },\n    0x14b2: { name: 'DisplayUnit', type: 'Uint' },\n    0x14b3: { name: 'AspectRatioType', type: 'Uint' },\n    0xeb524: { name: 'ColourSpace', type: 'Binary' },\n    0xfb523: { name: 'GammaValue', type: 'Float' },\n    0x383e3: { name: 'FrameRate', type: 'Float' },\n    0x61: { name: 'Audio', type: 'Container' },\n    0x35: { name: 'SamplingFrequency', type: 'Float' },\n    0x38b5: { name: 'OutputSamplingFrequency', type: 'Float' },\n    0x1f: { name: 'Channels', type: 'Uint' },\n    0x3d7b: { name: 'ChannelPositions', type: 'Binary' },\n    0x2264: { name: 'BitDepth', type: 'Uint' },\n    0x62: { name: 'TrackOperation', type: 'Container' },\n    0x63: { name: 'TrackCombinePlanes', type: 'Container' },\n    0x64: { name: 'TrackPlane', type: 'Container' },\n    0x65: { name: 'TrackPlaneUID', type: 'Uint' },\n    0x66: { name: 'TrackPlaneType', type: 'Uint' },\n    0x69: { name: 'TrackJoinBlocks', type: 'Container' },\n    0x6d: { name: 'TrackJoinUID', type: 'Uint' },\n    0x40: { name: 'TrickTrackUID', type: 'Uint' },\n    0x41: { name: 'TrickTrackSegmentUID', type: 'Binary' },\n    0x46: { name: 'TrickTrackFlag', type: 'Uint' },\n    0x47: { name: 'TrickMasterTrackUID', type: 'Uint' },\n    0x44: { name: 'TrickMasterTrackSegmentUID', type: 'Binary' },\n    0x2d80: { name: 'ContentEncodings', type: 'Container' },\n    0x2240: { name: 'ContentEncoding', type: 'Container' },\n    0x1031: { name: 'ContentEncodingOrder', type: 'Uint' },\n    0x1032: { name: 'ContentEncodingScope', type: 'Uint' },\n    0x1033: { name: 'ContentEncodingType', type: 'Uint' },\n    0x1034: { name: 'ContentCompression', type: 'Container' },\n    0x254: { name: 'ContentCompAlgo', type: 'Uint' },\n    0x255: { name: 'ContentCompSettings', type: 'Binary' },\n    0x1035: { name: 'ContentEncryption', type: 'Container' },\n    0x7e1: { name: 'ContentEncAlgo', type: 'Uint' },\n    0x7e2: { name: 'ContentEncKeyID', type: 'Binary' },\n    0x7e3: { name: 'ContentSignature', type: 'Binary' },\n    0x7e4: { name: 'ContentSigKeyID', type: 'Binary' },\n    0x7e5: { name: 'ContentSigAlgo', type: 'Uint' },\n    0x7e6: { name: 'ContentSigHashAlgo', type: 'Uint' },\n    0xc53bb6b: { name: 'Cues', type: 'Container' },\n    0x3b: { name: 'CuePoint', type: 'Container' },\n    0x33: { name: 'CueTime', type: 'Uint' },\n    0x37: { name: 'CueTrackPositions', type: 'Container' },\n    0x77: { name: 'CueTrack', type: 'Uint' },\n    0x71: { name: 'CueClusterPosition', type: 'Uint' },\n    0x70: { name: 'CueRelativePosition', type: 'Uint' },\n    0x32: { name: 'CueDuration', type: 'Uint' },\n    0x1378: { name: 'CueBlockNumber', type: 'Uint' },\n    0x6a: { name: 'CueCodecState', type: 'Uint' },\n    0x5b: { name: 'CueReference', type: 'Container' },\n    0x16: { name: 'CueRefTime', type: 'Uint' },\n    0x17: { name: 'CueRefCluster', type: 'Uint' },\n    0x135f: { name: 'CueRefNumber', type: 'Uint' },\n    0x6b: { name: 'CueRefCodecState', type: 'Uint' },\n    0x941a469: { name: 'Attachments', type: 'Container' },\n    0x21a7: { name: 'AttachedFile', type: 'Container' },\n    0x67e: { name: 'FileDescription', type: 'String' },\n    0x66e: { name: 'FileName', type: 'String' },\n    0x660: { name: 'FileMimeType', type: 'String' },\n    0x65c: { name: 'FileData', type: 'Binary' },\n    0x6ae: { name: 'FileUID', type: 'Uint' },\n    0x675: { name: 'FileReferral', type: 'Binary' },\n    0x661: { name: 'FileUsedStartTime', type: 'Uint' },\n    0x662: { name: 'FileUsedEndTime', type: 'Uint' },\n    0x43a770: { name: 'Chapters', type: 'Container' },\n    0x5b9: { name: 'EditionEntry', type: 'Container' },\n    0x5bc: { name: 'EditionUID', type: 'Uint' },\n    0x5bd: { name: 'EditionFlagHidden', type: 'Uint' },\n    0x5db: { name: 'EditionFlagDefault', type: 'Uint' },\n    0x5dd: { name: 'EditionFlagOrdered', type: 'Uint' },\n    0x36: { name: 'ChapterAtom', type: 'Container' },\n    0x33c4: { name: 'ChapterUID', type: 'Uint' },\n    0x1654: { name: 'ChapterStringUID', type: 'String' },\n    0x11: { name: 'ChapterTimeStart', type: 'Uint' },\n    0x12: { name: 'ChapterTimeEnd', type: 'Uint' },\n    0x18: { name: 'ChapterFlagHidden', type: 'Uint' },\n    0x598: { name: 'ChapterFlagEnabled', type: 'Uint' },\n    0x2e67: { name: 'ChapterSegmentUID', type: 'Binary' },\n    0x2ebc: { name: 'ChapterSegmentEditionUID', type: 'Uint' },\n    0x23c3: { name: 'ChapterPhysicalEquiv', type: 'Uint' },\n    0xf: { name: 'ChapterTrack', type: 'Container' },\n    0x9: { name: 'ChapterTrackNumber', type: 'Uint' },\n    0x0: { name: 'ChapterDisplay', type: 'Container' },\n    0x5: { name: 'ChapString', type: 'String' },\n    0x37c: { name: 'ChapLanguage', type: 'String' },\n    0x37e: { name: 'ChapCountry', type: 'String' },\n    0x2944: { name: 'ChapProcess', type: 'Container' },\n    0x2955: { name: 'ChapProcessCodecID', type: 'Uint' },\n    0x50d: { name: 'ChapProcessPrivate', type: 'Binary' },\n    0x2911: { name: 'ChapProcessCommand', type: 'Container' },\n    0x2922: { name: 'ChapProcessTime', type: 'Uint' },\n    0x2933: { name: 'ChapProcessData', type: 'Binary' },\n    0x254c367: { name: 'Tags', type: 'Container' },\n    0x3373: { name: 'Tag', type: 'Container' },\n    0x23c0: { name: 'Targets', type: 'Container' },\n    0x28ca: { name: 'TargetTypeValue', type: 'Uint' },\n    0x23ca: { name: 'TargetType', type: 'String' },\n    0x23c5: { name: 'TagTrackUID', type: 'Uint' },\n    0x23c9: { name: 'TagEditionUID', type: 'Uint' },\n    0x23c4: { name: 'TagChapterUID', type: 'Uint' },\n    0x23c6: { name: 'TagAttachmentUID', type: 'Uint' },\n    0x27c8: { name: 'SimpleTag', type: 'Container' },\n    0x5a3: { name: 'TagName', type: 'String' },\n    0x47a: { name: 'TagLanguage', type: 'String' },\n    0x484: { name: 'TagDefault', type: 'Uint' },\n    0x487: { name: 'TagString', type: 'String' },\n    0x485: { name: 'TagBinary', type: 'Binary' },\n}\n\nclass WebmBase<T> {\n    source?: Uint8Array\n    data?: T\n    name: string\n    type: string\n\n    constructor(name = 'Unknown', type = 'Unknown') {\n        this.name = name\n        this.type = type\n    }\n\n    updateBySource() {}\n\n    setSource(source: Uint8Array) {\n        this.source = source\n        this.updateBySource()\n    }\n\n    updateByData() {}\n\n    setData(data: T) {\n        this.data = data\n        this.updateByData()\n    }\n}\n\nclass WebmUint extends WebmBase<string> {\n    constructor(name: string, type: string) {\n        super(name, type || 'Uint')\n    }\n\n    updateBySource() {\n        // use hex representation of a number instead of number value\n        this.data = ''\n        for (let i = 0; i < this.source!.length; i++) {\n            const hex = this.source![i].toString(16)\n            this.data += padHex(hex)\n        }\n    }\n\n    updateByData() {\n        const length = this.data!.length / 2\n        this.source = new Uint8Array(length)\n        for (let i = 0; i < length; i++) {\n            const hex = this.data!.substr(i * 2, 2)\n            this.source[i] = parseInt(hex, 16)\n        }\n    }\n\n    getValue() {\n        return parseInt(this.data!, 16)\n    }\n\n    setValue(value: number) {\n        this.setData(padHex(value.toString(16)))\n    }\n}\n\nfunction padHex(hex: string) {\n    return hex.length % 2 === 1 ? '0' + hex : hex\n}\n\nclass WebmFloat extends WebmBase<number> {\n    constructor(name: string, type: string) {\n        super(name, type || 'Float')\n    }\n\n    getFloatArrayType() {\n        return this.source && this.source.length === 4\n            ? Float32Array\n            : Float64Array\n    }\n    updateBySource() {\n        const byteArray = this.source!.reverse()\n        const floatArrayType = this.getFloatArrayType()\n        const buffer = new ArrayBuffer(byteArray.buffer.byteLength)\n        new Uint8Array(buffer).set(new Uint8Array(byteArray.buffer))\n        const floatArray = new floatArrayType(buffer)\n        this.data! = floatArray[0]\n    }\n    updateByData() {\n        const floatArrayType = this.getFloatArrayType()\n        const floatArray = new floatArrayType([this.data!])\n        const byteArray = new Uint8Array(floatArray.buffer)\n        this.source = byteArray.reverse()\n    }\n    getValue() {\n        return this.data\n    }\n    setValue(value: number) {\n        this.setData(value)\n    }\n}\n\ninterface ContainerData {\n    id: number\n    idHex?: string\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data: WebmBase<any>\n}\n\nclass WebmContainer extends WebmBase<ContainerData[]> {\n    offset: number = 0\n    data: ContainerData[] = []\n\n    constructor(name: string, type: string) {\n        super(name, type || 'Container')\n    }\n\n    readByte() {\n        return this.source![this.offset++]\n    }\n    readUint() {\n        const firstByte = this.readByte()\n        const bytes = 8 - firstByte.toString(2).length\n        let value = firstByte - (1 << (7 - bytes))\n        for (let i = 0; i < bytes; i++) {\n            // don't use bit operators to support x86\n            value *= 256\n            value += this.readByte()\n        }\n        return value\n    }\n    updateBySource() {\n        let end: number | undefined = undefined\n        this.data = []\n        for (\n            this.offset = 0;\n            this.offset < this.source!.length;\n            this.offset = end\n        ) {\n            const id = this.readUint()\n            const len = this.readUint()\n            end = Math.min(this.offset + len, this.source!.length)\n            const data = this.source!.slice(this.offset, end)\n\n            const info = sections[id] || { name: 'Unknown', type: 'Unknown' }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            let ctr: any = WebmBase\n            switch (info.type) {\n                case 'Container':\n                    ctr = WebmContainer\n                    break\n                case 'Uint':\n                    ctr = WebmUint\n                    break\n                case 'Float':\n                    ctr = WebmFloat\n                    break\n            }\n            const section = new ctr(info.name, info.type)\n            section.setSource(data)\n            this.data.push({\n                id,\n                idHex: id.toString(16),\n                data: section,\n            })\n        }\n    }\n    writeUint(x: number, draft = false) {\n        let flag = 0x80\n        let bytes = 1\n        // eslint-disable-next-line no-empty\n        for (; x >= flag && bytes < 8; bytes++, flag *= 0x80) {}\n\n        if (!draft) {\n            let value = flag + x\n            for (let i = bytes - 1; i >= 0; i--) {\n                // don't use bit operators to support x86\n                const c = value % 256\n                this.source![this.offset! + i] = c\n                value = (value - c) / 256\n            }\n        }\n\n        this.offset += bytes\n    }\n\n    writeSections(draft = false) {\n        this.offset = 0\n        for (let i = 0; i < this.data.length; i++) {\n            const section = this.data[i],\n                content = section.data.source,\n                contentLength = content!.length\n            this.writeUint(section.id, draft)\n            this.writeUint(contentLength, draft)\n            if (!draft) {\n                this.source!.set(content!, this.offset)\n            }\n            this.offset += contentLength\n        }\n        return this.offset\n    }\n\n    updateByData() {\n        // run without accessing this.source to determine total length - need to know it to create Uint8Array\n        const length = this.writeSections(true)\n        this.source = new Uint8Array(length)\n        // now really write data\n        this.writeSections()\n    }\n\n    getSectionById(id: number) {\n        for (let i = 0; i < this.data.length; i++) {\n            const section = this.data[i]\n            if (section.id === id) {\n                return section.data\n            }\n        }\n\n        return undefined\n    }\n}\n\nclass WebmFile extends WebmContainer {\n    constructor(source: Uint8Array) {\n        super('File', 'File')\n        this.setSource(source)\n    }\n\n    fixDuration(duration: number) {\n        const segmentSection = this.getSectionById(0x8538067) as WebmContainer\n        if (!segmentSection) {\n            return false\n        }\n\n        const infoSection = segmentSection.getSectionById(\n            0x549a966\n        ) as WebmContainer\n        if (!infoSection) {\n            return false\n        }\n\n        const timeScaleSection = infoSection.getSectionById(\n            0xad7b1\n        ) as WebmFloat\n        if (!timeScaleSection) {\n            return false\n        }\n\n        let durationSection = infoSection.getSectionById(0x489) as WebmFloat\n        if (durationSection) {\n            if (durationSection.getValue()! <= 0) {\n                durationSection.setValue(duration)\n            } else {\n                return false\n            }\n        } else {\n            // append Duration section\n            durationSection = new WebmFloat('Duration', 'Float')\n            durationSection.setValue(duration)\n            infoSection.data.push({\n                id: 0x489,\n                data: durationSection,\n            })\n        }\n\n        // set default time scale to 1 millisecond (1000000 nanoseconds)\n        timeScaleSection.setValue(1000000)\n        infoSection.updateByData()\n        segmentSection.updateByData()\n        this.updateByData()\n\n        return true\n    }\n\n    toBlob(type = 'video/webm') {\n        const buffer = new ArrayBuffer(this.source!.buffer.byteLength)\n        new Uint8Array(buffer).set(new Uint8Array(this.source!.buffer))\n        return new Blob([buffer], { type })\n    }\n}\n\n/**\n * Fixes duration on MediaRecorder output.\n * @param blob Input Blob with incorrect duration.\n * @param duration Correct duration (in milliseconds).\n * @param type Output blob mimetype (default: video/webm).\n * @returns\n */\nexport const webmFixDuration = (\n    blob: Blob,\n    duration: number,\n    type = 'video/webm'\n): Promise<Blob> => {\n    return new Promise((resolve, reject) => {\n        try {\n            const reader = new FileReader()\n\n            reader.addEventListener('loadend', () => {\n                try {\n                    const result = reader.result as ArrayBuffer\n                    const file = new WebmFile(new Uint8Array(result))\n                    if (file.fixDuration(duration)) {\n                        resolve(file.toBlob(type))\n                    } else {\n                        resolve(blob)\n                    }\n                } catch (ex) {\n                    reject(ex)\n                }\n            })\n\n            reader.addEventListener('error', () =>\n                reject(new Error('FileReader error'))\n            )\n\n            reader.readAsArrayBuffer(blob)\n        } catch (ex) {\n            reject(ex)\n        }\n    })\n}\n"]}