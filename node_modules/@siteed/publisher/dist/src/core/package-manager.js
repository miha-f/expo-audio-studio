"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PackageManagerFactory = void 0;
const npm_1 = require("./npm");
const yarn_1 = require("./yarn");
const logger_1 = require("../utils/logger");
class PackageManagerFactory {
    static logger = new logger_1.Logger();
    static create(packageManager, config) {
        this.logger.debug("Creating package manager service:", {
            type: packageManager,
            registry: config.registry,
            access: config.access,
        });
        let service;
        switch (packageManager) {
            case "npm":
                this.logger.debug("Initializing NPM service");
                service = new npm_1.NpmService(config);
                break;
            case "yarn":
                this.logger.debug("Initializing Yarn service");
                service = new yarn_1.YarnService(config);
                break;
            default: {
                throw new Error("Unsupported package manager");
            }
        }
        this.logger.debug("Package manager service created successfully");
        return service;
    }
}
exports.PackageManagerFactory = PackageManagerFactory;
